{"version":3,"sources":["webpack:///webpack/bootstrap b0e03c59cfa775e6872c","webpack:///./src/main.js","webpack:///./src/css/grid.min.css?4a68","webpack:///./src/less/style.less?55bc","webpack:///./src/js/todoListBuilder.js","webpack:///./src/js/todoList.js","webpack:///./src/js/todoItem.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;;;;AC7DA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;;AAEA;AACA;AACsB;;AAEtB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;ACvBD,yC;;;;;;ACAA,yC;;;;;;;ACAA;AAAA;AACA;AACA;AACA;AACA;;AAEqC;;AAErC;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AAAA;AAAA;;AAEA;;AAEA;;AAEA,iCAAiC;AACjC,sCAAsC;;AAEtC;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,6BAA6B,0BAA0B;AACvD,oDAAoD,+BAA+B;AACnF;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,IAAI;;AAEJ;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;;AAEH;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAI;AACJ;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA,GAAG;AACH;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,uBAAuB,6BAA6B;AACpD;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAI;;AAEJ;AACA,GAAG;AACH;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,iBAAiB,4BAA4B;AAC7C,iDAAiD,OAAO;AACxD;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA,iBAAiB,4BAA4B;AAC7C;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AAAA;AAAA;;;;;;;;AC/VA;AAAA;AACA;AACA;AACA;AACA;;AAEqC;;AAErC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AAAA;AAAA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,iCAAiC;AACjC;AACA;AACA;AACA;AACA,sCAAsC;;AAEtC;AACA;AACA;AACA;;AAEA;AACA,uBAAuB;;AAEvB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,YAAY;AACZ,GAAG;AACH;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA,YAAY;AACZ,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA,iBAAiB,wBAAwB;AACzC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,gDAAgD,uBAAuB,EAAE;AACzE;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,YAAY;AACZ,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA,YAAY;AACZ,GAAG;AACH;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AAAA;AAAA;;;;;;;;AC7aA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;;AAEA;;AAEA;;AAEA,iCAAiC;;AAEjC,oBAAoB;AACpB;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,YAAY;AACZ,GAAG;AACH;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA,YAAY;AACZ,GAAG;AACH;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,mDAAmD,sBAAsB;AACzE;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAY;AACZ,GAAG;AACH;;AAEA;AACA,wBAAwB;;AAExB;AACA;AACA,YAAY;AACZ,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AAAA;AAAA","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap b0e03c59cfa775e6872c","'use strict';\n\nif ('serviceWorker' in navigator) {\n    navigator.serviceWorker.register('/sw.js').then(function (reg) {\n        console.log('Registration succeeded. Scope is ' + reg.scope);\n    }).catch(function (error) {\n        console.log('Registration failed with ' + error);\n    });\n}\n\nconst grid = require('./css/grid.min.css');\nconst style = require('./less/style.less');\nimport { TodoBuilder } from \"./js/todoListBuilder.js\";\n\n// TODO: add JSDoc\n\nlet boardElement = document.querySelector('#todo-board');\nlet desk = new TodoBuilder(boardElement, {\n    boardClasses: 'row-24',\n    listOuterClasses: '.col.xxs-24.md-12.lg-8',\n    list: {\n        titleText: 'New List'\n    }\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/main.js\n// module id = 0\n// module chunks = 0","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/css/grid.min.css\n// module id = 1\n// module chunks = 0","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/less/style.less\n// module id = 2\n// module chunks = 0","/*\n*    JavaScript TodoBuilder\n*    Author: Vladimir Chernov\n*    For KeepSolid Summer Internship 2017\n*/\n\nimport { TodoList, TodoListDefaults } from \"./todoList.js\";\n\nexport const TodoBuilderDefaults = {\n\tenableAdding: true,\n\tboardClasses: '',\n\tlistOuterClasses: 'todo-box-outer',\n\tbuilderButtonText: '<i class=\"material-icons\">add</i>',\n\tlist: {} // extends TodoListDefaults\n};\n\nexport class TodoBuilder {\n\n\tconstructor(builderParentElement, options) {\n\n\t\tthis.options = Object.assign({}, TodoBuilderDefaults, options);\n\t\tthis.options.list = Object.assign({}, TodoBuilderDefaults.list, options.list);\n\n\t\tthis.listsArray = [];\n\t\tthis.data = [];\n\n\t\tthis.loadTemplate(builderParentElement);\n\t\tthis.init();\n\t\tthis.initEvents();\n\n\t}\n\n\tloadTemplate(builderParentElement) {\n\t\tlet template = `\n\t\t<div class=\"todo-builder\">\n\t\t\t<div class=\"todo-builder--bg\"></div>\n\t\t\t<div class=\"content-wrapper\">\n\t\t\t\t<div class=\"todo-board ${this.options.boardClasses}\"></div>\n\t\t\t\t<button class=\"btn btn-fab blue action build\">${this.options.builderButtonText}</button>\n\t\t\t</div>\n\t\t</div>\n\t\t`;\n\t\tbuilderParentElement.innerHTML = template;\n\t\tthis.board = builderParentElement.querySelector('.todo-board');\n\t\tthis.builderBtn = builderParentElement.querySelector('button.action.build');\n\n\t\tthis.listOuterTemplate = this.createOuter(this.options.listOuterClasses);\n\t}\n\n\tcreateOuter(outerClassesString) {\n\t\tif (!outerClassesString) return;\n\n\t\tlet outerElementsArray = outerClassesString.split('>'),\n\t\t\tlast = outerElementsArray.length - 1,\n\t\t\ti = 0,\n\t\t\tstr = '';\n\n\t\touterElementsArray.forEach(outerElementsClasses => {\n\t\t\tif (i == last) {\n\t\t\t\touterElementsClasses += '.outer-deepest';\n\t\t\t}\n\n\t\t\tstr += '<div class=\"';\n\t\t\tlet elementClassArray = outerElementsClasses.split('.');\n\n\t\t\telementClassArray.forEach(className => {\n\t\t\t\tstr += className + ' ';\n\t\t\t});\n\n\t\t\tstr += '\">';\n\t\t\ti++;\n\t\t});\n\t\touterElementsArray.forEach(() => {\n\t\t\tstr += '</div>';\n\t\t});\n\n\t\tlet temp = document.createElement('div');\n\t\ttemp.innerHTML = str;\n\t\tlet outer = temp.childNodes[0];\n\n\t\treturn outer;\n\t}\n\n\tinit() {\n\t\tlet data = localStorage.todolist;\n\t\tdata && this.parseLocal(data);\n\n\t\t// build from local if exists\n\t\tif (this.data.length > 0) {\n\t\t\tthis.data.forEach(listData => {\n\t\t\t\tthis.build(listData);\n\t\t\t});\n\t\t}\n\n\t\t// build empty list if no data set\n\t\tif (this.data.length === 0) {\n\t\t\tthis.build();\n\t\t}\n\n\t\tthis.updateStorage();\n\t}\n\n\tparseLocal(data) {\n\t\tlet parsedLists = JSON.parse(data);\n\n\t\tparsedLists.forEach(list => {\n\t\t\tlet listData = {\n\t\t\t\ttitle: list[0],\n\t\t\t\titemsArray: []\n\t\t\t};\n\t\t\tlist[1].forEach(item => {\n\t\t\t\tlet itemData = {\n\t\t\t\t\ttext: item[0],\n\t\t\t\t\tcomplete: item[1]\n\t\t\t\t};\n\t\t\t\tlistData.itemsArray.push(itemData);\n\t\t\t});\n\t\t\tthis.data.push(listData);\n\t\t});\n\t}\n\n\tbuild(listData) {\n\t\tlistData = listData || {};\n\n\t\tlet outer, outerDeepest = null;\n\n\t\tif (this.options.listOuterClasses) {\n\t\t\touter = this.listOuterTemplate.cloneNode(true);\n\t\t\touterDeepest = outer.querySelector('.outer-deepest') || outer;\n\t\t\touterDeepest.classList.remove('outer-deepest');\n\t\t\tthis.board.appendChild(outer);\n\t\t}\n\n\t\tlet list = new TodoList(outerDeepest || this.board, listData.itemsArray, this.options.list);\n\n\t\tif (listData.title) { list.title = listData.title; }\n\t\tlist.outer = outer;\n\n\t\tthis.listsArray.push(list);\n\t}\n\n\tisEdge(i, direction) {\n\t\tif ((i == 0 && direction == 'left') ||\n\t\t\t(i == this.listsArray.length - 1 && direction == 'right')) {\n\t\t\treturn true;\n\t\t}\n\t}\n\n\tmoveList(i, step, direction) {\n\t\tlet list = this.listsArray[i];\n\t\tlet j = 0;\n\n\t\tswitch(direction) {\n\t\t\tcase 'left':\n\t\t\t\tj = i - step;\n\t\t\t\tbreak;\n\t\t\tcase 'right':\n\t\t\t\tj = i + step;\n\t\t\t\tbreak;\n\t\t\tdefault: return;\n\t\t}\n\n\t\tlet slist = this.listsArray[j];\n\n\t\tif (j > i) {\n\t\t\tthis.board.insertBefore(slist.outer, list.outer);\n\t\t} else {\n\t\t\tthis.board.insertBefore(list.outer, slist.outer);\n\t\t}\n\n\t\tthis.listsArray.splice(i, 1);\n\t\tthis.listsArray.splice(j, 0, list);\n\t}\n\n\tswap(mainIndex, secondaryIndex) {\n\t\tif (mainIndex == secondaryIndex) return;\n\n\t\tif (secondaryIndex > this.listsArray.length - 1) secondaryIndex = 0;\n\t\tif (secondaryIndex < 0) secondaryIndex = this.listsArray.length - 1;\n\n\t\tlet over = this.listsArray[mainIndex].outer;\n\t\tlet under = this.listsArray[secondaryIndex].outer;\n\n\t\t// create clones\n\t\tover.clone = over.cloneNode(true);\n\t\tunder.clone = under.cloneNode(true);\n\n\t\tover.clone.addEventListener('transitionend', this.onSwapped.bind(this, over, under));\n\n\t\t// set original positions and sizes\n\t\tover.clone.classList.add('clone');\n\t\tunder.clone.classList.add('clone');\n\t\tover.clone.style.top = over.offsetTop + 'px';\n\t\tover.clone.style.left = over.offsetLeft + 'px';\n\t\tover.clone.style.width = over.offsetWidth + 'px';\n\t\tover.clone.style.height = over.offsetHeight + 'px';\n\n\t\tunder.clone.style.top = under.offsetTop + 'px';\n\t\tunder.clone.style.left = under.offsetLeft + 'px';\n\t\tunder.clone.style.width = under.offsetWidth + 'px';\n\t\tunder.clone.style.height = under.offsetHeight + 'px';\n\n\t\t// hide originals\n\t\tover.style.visibility = 'hidden';\n\t\tunder.style.visibility = 'hidden';\n\n\t\t// show clones\n\t\tthis.board.appendChild(over.clone);\n\t\tthis.board.appendChild(under.clone);\n\n\t\t// make others know they are starting animation\n\t\tover.clone.classList.add('animate', 'over');\n\t\tunder.clone.classList.add('animate', 'under');\n\n\t\t// move clones\n\t\tover.clone.style.top = under.offsetTop + 'px';\n\t\tover.clone.style.left = under.offsetLeft + 'px';\n\t\tunder.clone.style.top = over.offsetTop + 'px';\n\t\tunder.clone.style.left = over.offsetLeft + 'px';\n\n\t\tlet direction = mainIndex - secondaryIndex > 0 ? 'left' : 'right';\n\n\t\tthis.moveList(mainIndex, Math.abs(mainIndex - secondaryIndex), direction);\n\t}\n\n\tupdateStorage() {\n\t\tlet newData = [];\n\t\t// [...[list.title, ...[item.text, item.complete]]]\n\t\tthis.listsArray.forEach(list => {\n\t\t\tlet items = [];\n\n\t\t\t// 0: title, 1: [...items]\n\t\t\tlet listData = [list.title, items];\n\n\t\t\tlist.itemsArray.forEach(item => {\n\t\t\t\t// 0: text, 1: complete\n\t\t\t\tlet itemData = [item.text, item.complete];\n\t\t\t\titems.push(itemData);\n\t\t\t});\n\n\t\t\tnewData.push(listData);\n\t\t});\n\t\tnewData = JSON.stringify(newData);\n\n\t\tlocalStorage.setItem('todolist', newData);\n\t\tconsole.log('Storage is updated.');\n\t}\n\n\t// Events\n\n\tinitEvents() {\n\n\t\tthis.builderBtn.addEventListener('click', this.onCreateNew.bind(this));\n\n\t\tdocument.body.addEventListener('todo.list.setTitle',  this.onListSetTitle.bind(this));\n\t\tdocument.body.addEventListener('todo.list.addItem',   this.onListAddItem.bind(this));\n\t\tdocument.body.addEventListener('todo.list.remove',\t  this.onListRemove.bind(this));\n\t\tdocument.body.addEventListener('todo.list.clear', \t  this.onListClear.bind(this));\n\t\tdocument.body.addEventListener('todo.list.move', \t  this.onListMove.bind(this));\n\n\t\tdocument.body.addEventListener('todo.item.setStatus', this.onItemSetStatus.bind(this));\n\t\tdocument.body.addEventListener('todo.item.remove',    this.onItemRemove.bind(this));\n\t\tdocument.body.addEventListener('todo.item.edit', \t  this.onItemEdit.bind(this));\n\n\t}\n\n\tonCreateNew(event) {\n\t\tthis.build();\n\t\tthis.updateStorage();\n\t}\n\n\tonListClear(event) {\n\t\t// ...some actions for particular event\n\t\tthis.updateStorage();\n\t}\n\n\tonListSetTitle(event) {\n\t\t// ...some actions for particular event\n\t\tthis.updateStorage();\n\t}\n\n\tonListAddItem(event) {\n\t\t// ...some actions for particular event\n\t\tthis.updateStorage();\n\t}\n\n\tonListRemove(event) {\n\t\tfor (var i = 0; i < this.listsArray.length; i++) {\n\t\t\tif (this.listsArray[i] == event.detail.list) { break; }\n\t\t}\n\t\tthis.listsArray[i].outer.remove();\n\t\tthis.listsArray.splice(i, 1);\n\n\t\tthis.updateStorage();\n\t}\n\n\tonListMove(event) {\n\t\tlet movingList = null;\n\t\tlet direction = event.detail.direction;\n\n\t\tfor (var i = 0; i < this.listsArray.length; i++) {\n\t\t\tif (this.listsArray[i] == event.detail.list) {\n\t\t\t\tmovingList = this.listsArray[i];\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tif (this.isEdge(i, direction)) return;\n\n\t\tif (this.options.moveAnimation) {\n\t\t\tswitch(direction) {\n\t\t\t\tcase 'left':\n\t\t\t\t\tthis.swap(i, i - 1);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'right':\n\t\t\t\t\tthis.swap(i, i + 1);\n\t\t\t\t\tbreak;\n\t\t\t\tdefault: break;\n\t\t\t}\n\t\t} else {\n\t\t\tthis.moveList(i, 1, direction);\n\t\t}\n\n\t\tthis.updateStorage();\n\t}\n\n\tonItemRemove(event) {\n\t\t// ...some actions for particular event\n\t\tthis.updateStorage();\n\t}\n\n\tonItemEdit(event) {\n\t\t// ...some actions for particular event\n\t\tthis.updateStorage();\n\t}\n\n\tonItemSetStatus(event) {\n\t\t// ...some actions for particular event\n\t\tthis.updateStorage();\n\t}\n\n\tonSwapped(over, under) {\n\t\tover.style.visibility = 'visible';\n\t\tunder.style.visibility = 'visible';\n\n\t\tover.clone.remove();\n\t\tunder.clone.remove();\n\n\t\tthis.board.classList.remove('scene');\n\t}\n\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/js/todoListBuilder.js\n// module id = 3\n// module chunks = 0","/*\n*    JavaScript Autocomplete\n*    Author: Vladimir Chernov\n*    For KeepSolid Summer Internship 2017\n*/\n\nimport { TodoItem, TodoItemDefaults } from \"./todoItem.js\";\n\nexport const TodoListDefaults = {\n\tpreviewMaxCount: 3,\n\t// adding\n\taddIconText: '<i class=\"material-icons\">add_circle</i>',\n\tplaceholder: 'New todo:',\n\t// title\n\ttitleText: 'Title',\n\t// tools\n\tremoveToolText: 'Remove',\n\tclearToolText: 'Clear',\n\t// other\n\treadonly: false,\n\titem: {} // extends TodoItemDefaults\n};\n\nconst INNER_TEMPLATE = `\n<div class=\"overflow-wrapper\">\n\t<div class=\"todo-header\">\n\t\t<h5 class=\"todo-title\" contenteditable=\"true\"></h5>\n\t</div>\n\t<div class=\"todo-body\">\n\t\t<ul class=\"todo-list\">\n\t\t\t<li class=\"todo-item add editable\">\n\t\t\t\t<div class=\"todo-item--icon add\"></div>\n\t\t\t\t<div class=\"todo-item--text\">\n\t\t\t\t\t<div class=\"placeholder\"></div>\n\t\t\t\t\t<div class=\"add-box\" contenteditable=\"true\"></div>\n\t\t\t\t</div>\n\t\t\t</li>\n\t\t</ul>\n\t</div>\n\t<div class=\"todo-footer\">\n\t\t<div class=\"actions\">\n\t\t\t<button class=\"btn btn-flat action clear\"></button>\n\t\t\t<button class=\"btn btn-flat text-red action remove\"></button>\n\t\t</div>\n\t</div>\n</div>\n`;\n\nexport class TodoList {\n\n\tconstructor(parentElement, data, options) {\n\t\tthis.options = Object.assign({}, TodoListDefaults, options);\n\t\t/*\n\t\t* Second assign is present because Object.assign makes this.options.item\n\t\t* just equal to options.item. Need to use Lodash instead.\n\t\t*/\n\t\tthis.options.item = Object.assign({}, TodoListDefaults.item, options.item);\n\n\t\tif (this.options.readonly) {\n\t\t\tthis.options.item.editable = false;\n\t\t\tthis.options.item.removable = false;\n\t\t}\n\n\t\tthis.data = data || [];\n\t\tthis.itemsArray = []; // contains objects of TodoItem\n\n\t\tthis.loadTemplate(parentElement);\n\t\tthis.setList(this.data);\n\t\tthis.initEvents();\n\t}\n\n\tget title() {\n\t\treturn this._title;\n\t}\n\n\tset title(value) {\n\t\tthis._title = value;\n\t\tif (this.titleElement != document.activeElement) {\n\t\t\tthis.titleElement.innerHTML = value;\n\t\t}\n\n\t\tlet setTitle = new CustomEvent(\"todo.list.setTitle\", {\n\t\t\tbubbles: true,\n\t\t\tdetail: { list: this }\n\t\t});\n\t\tthis.box.dispatchEvent(setTitle);\n\t}\n\n\tget active() {\n\t\treturn this._active;\n\t}\n\n\tset active(value) {\n\t\t// if (!value) {\n\t\t// \tlet date = new Date();\n\t\t// \tdate = Date.parse(date);\n\t\t// \tconsole.log('active set false transitionend: ' + date);\n\t\t// }\n\t\t\n\t\tthis._active = value;\n\t}\n\n\tloadTemplate(parentElement) {\n\t\tthis.box = document.createElement('div');\n\t\tthis.box.classList.add('todobox');\n\t\tthis.box.innerHTML = INNER_TEMPLATE;\n\n\t\t// set links to box control elements\n\t\tthis.boxBody      = this.box.querySelector('.todo-body');\n\t\tthis.list         = this.box.querySelector('.todo-list');\n\t\tthis.titleElement = this.box.querySelector('.todo-title');\n\t\tthis.clearTool    = this.box.querySelector('.todo-footer .actions .clear');\n\t\tthis.removeTool   = this.box.querySelector('.todo-footer .actions .remove');\n\t\tthis.addItem      = this.box.querySelector('.todo-item.add');\n\t\tthis.addInput     = this.addItem.querySelector('.add-box');\n\n\t\t// set text\n\t\tthis.title = this.options.titleText;\n\n\t\tthis.clearTool.innerHTML = this.options.clearToolText;\n\t\tthis.removeTool.innerHTML = this.options.removeToolText;\n\t\tthis.addItem.querySelector('.placeholder').innerHTML = this.options.placeholder;\n\t\tthis.addItem.querySelector('.todo-item--icon').innerHTML = this.options.addIconText;\n\n\t\t// load generated boxes\n\t\tthis.parent = parentElement;\n\t\tthis.parent.innerHTML = '';\n\t\tthis.parent.appendChild(this.box);\n\n\t\tthis.active = false;\n\t}\n\n\tsetList(data) {\n\t\tdata = data || [];\n\t\tthis.itemsArray = [];\n\t\tthis.list.innerHTML = '';\n\t\tthis.list.appendChild(this.addItem);\n\n\t\tdata.forEach((todo) => {\n\t\t\tlet item = new TodoItem(todo.text, todo.complete, this.options.item);\n\t\t\tthis.add(item);\n\t\t});\n\t\tthis.hideOutOfMaxItems();\n\t}\n\n\tadd(item) {\n\t\tif (this.itemsArray.length == this.options.previewMaxCount) {\n\t\t\tthis.createItemMore();\n\t\t}\n\n\t\tthis.itemsArray.push(item);\n\t\tthis.list.insertBefore(item.element, this.addItem);\n\n\t\tif (this.active) {\n\t\t\tthis.fixBoxBodyHeight();\n\t\t} else {\n\t\t\tthis.hideOutOfMaxItems();\n\t\t}\n\n\t\tlet addItem = new CustomEvent(\"todo.list.addItem\", {\n\t\t\tbubbles: true,\n\t\t\tdetail: { list: this }\n\t\t});\n\t\tthis.box.dispatchEvent(addItem);\n\t}\n\n\tcreateItemMore() {\n\t\tlet moreLine = document.createElement('div');\n\t\tmoreLine.classList.add('todo-item', 'more');\n\t\tmoreLine.innerHTML = '<div class=\"todo-item--text\">...</div>';\n\n\t\tthis.boxBody.appendChild(moreLine);\n\t}\n\n\tshowDialog() {\n\t\tthis.createDialog();\n\t\tthis.placeDialogOverBox(this.box);\n\n\t\t// this moves .todobox from it's parent to .dialog\n\t\tthis.dialog.appendChild(this.box);\n\n\t\t// load clone into parent to save size\n\t\tthis.clone = this.box.cloneNode(true);\n\t\tthis.parent.appendChild(this.clone);\n\n\t\tlet pos = {\n\t\t\ttop: window.pageYOffset + document.documentElement.clientHeight / 2 + 'px',\n\t\t\tleft: '50%'\n\t\t}\n\t\tlet size = {\n\t\t\twidth: '600px',\n\t\t\theight: 'auto',\n\t\t\tbodyHeight: this.list.offsetHeight + 'px'\n\t\t}\n\n\t\tthis.showHiddenItems();\n\t\tthis.animateDialog('show', pos, size);\n\n\t\tthis.active = true;\n\t}\n\n\thideDialog() {\n\t\tthis.dialog.addEventListener('transitionend', this.destroyDialog.bind(this));\n\t\tthis.hideOutOfMaxItems();\n\t\tthis.placeDialogOverBox(this.clone);\n\t}\n\n\tcreateDialog() {\n\t\tthis.dialog = document.createElement('div');\n\t\tthis.dialog.classList.add('dialog');\n\t\tthis.dialog.innerHTML = '';\n\t\tdocument.body.appendChild(this.dialog);\n\t}\n\n\tplaceDialogOverBox(target) {\n\t\tlet targetPos = target.getBoundingClientRect();\n\t\tlet targetCenter = {\n\t\t\ttop: (targetPos.top + pageYOffset) + target.offsetHeight / 2 + 'px',\n\t\t\tleft: (targetPos.left + pageXOffset) + target.offsetWidth / 2 + 'px'\n\t\t}\n\n\t\tlet size = {\n\t\t\twidth: target.offsetWidth + 'px',\n\t\t\theight: 'auto'\n\t\t}\n\n\t\tlet action = target == this.box ? 'show' : 'hide';\n\t\tthis.animateDialog(action, targetCenter, size);\n\t}\n\n\tanimateDialog(action, pos, size) {\n\t\tthis.dialog.classList.remove('show', 'hide');\n\t\tthis.dialog.classList.add('animate', action);\n\n\t\tthis.dialog.style.top = pos.top;\n\t\tthis.dialog.style.left = pos.left;\n\t\tthis.dialog.style.width = size.width;\n\t\tthis.dialog.style.height = size.height;\n\n\n\t\tif (window.innerWidth < 600) {\n\t\t\tthis.dialog.style.width = '100%';\n\t\t}\n\t}\n\n\tshowHiddenItems() {\n\t\tvar hiddenItems = this.list.querySelectorAll('.todo-item.hidden');\n\t\tfor (let i = 0; i < hiddenItems.length; i++) {\n\t\t\thiddenItems[i].classList.remove('hidden');\n\t\t}\n\t\tthis.fixBoxBodyHeight();\n\t}\n\n\thideOutOfMaxItems() {\n\t\tif (this.itemsArray.length > this.options.previewMaxCount) {\n\t\t\tthis.itemsArray.forEach((item, i) => {\n\t\t\t\tif (i >= this.options.previewMaxCount) {\n\t\t\t\t\titem.element.classList.add('hidden');\n\t\t\t\t}\n\t\t\t});\n\t\t\tthis.addItem.classList.add('hidden');\n\t\t}\n\t\tthis.fixBoxBodyHeight();\n\t}\n\n\tfixBoxBodyHeight() {\n\t\tlet height = this.list.offsetHeight;\n\t\tif (this.itemsArray.length > this.options.previewMaxCount) {\n\t\t\theight = 0;\n\t\t\tthis.itemsArray.forEach((item, i) => {\n\t\t\t\tif (!item.element.classList.contains('hidden')) {\n\t\t\t\t\theight += item.element.offsetHeight;\n\t\t\t\t}\n\t\t\t});\n\t\t\theight += this.boxBody.querySelector('.more').offsetHeight;\n\t\t}\n\t\tthis.boxBody.style.height = height + 'px';\n\t\tthis.boxBody.style.maxHeight = window.innerHeight - 300 + 'px';\n\n\t\treturn height;\n\t}\n\n\tdestroyDialog(event) {\n\t\t// 0.375 -- the longest time in CSS transitions animation\n\t\tif (event.srcElement == this.dialog && event.elapsedTime == 0.375) {\n\t\t\tthis.dialog.removeEventListener('transitionend', this.destroyDialog.bind(this));\n\n\t\t\tthis.clone.remove();\n\t\t\tthis.parent.appendChild(this.box);\n\t\t\tthis.dialog.remove();\n\t\t\tthis.active = false;\n\t\t}\n\t}\n\n\tisDialog(elem) {\n\t\tif (elem.closest('.dialog') && elem.closest('.dialog').contains(this.dialog)) {\n\t\t\treturn true;\n\t\t}\n\t\tif (elem.closest('.todo-item--icon.remove')) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\t// Events\n\n\tinitEvents() {\n\n\t\tthis.box.addEventListener('click', this.onPreviewBoxClick.bind(this));\n\t\tdocument.body.addEventListener('click', this.onDocumentClick.bind(this));\n\t\twindow.addEventListener('resize', this.onWindowResize.bind(this));\n\n\t\tthis.list.addEventListener('todo.item.remove', this.onRemoveTodo.bind(this));\n\t\tthis.list.addEventListener('todo.item.removed', this.onRemovedTodo.bind(this));\n\t\tthis.titleElement.addEventListener('input', this.onTitleInput.bind(this));\n\n\t\tthis.addItem.addEventListener('click', () => { this.addInput.focus(); });\n\t\tthis.addInput.addEventListener('focus', this.onAddBoxFocus.bind(this));\n\t\tthis.addInput.addEventListener('blur', this.onAddBoxBlur.bind(this));\n\t\tthis.addInput.addEventListener('input', this.onAddTodo.bind(this));\n\t\tthis.clearTool.addEventListener('click', this.onListClear.bind(this));\n\t\tthis.removeTool.addEventListener('click', this.onListRemove.bind(this));\n\n\t\tthis.clearTool.addEventListener('click', this.onListClear.bind(this));\n\t\tthis.removeTool.addEventListener('click', this.onListRemove.bind(this));\n\t}\n\n\tonPreviewBoxClick(event) {\n\t\tif (!this.active &&\n\t\t\tevent.target != this.clearTool &&\n\t\t\tevent.target != this.removeTool &&\n\t\t\t!event.target.closest('.todo-item--complete')) {\n\t\t\tthis.showDialog();\n\t\t}\n\t}\n\n\tonDocumentClick(event) {\n\t\tif (this.active && !this.isDialog(event.target)) {\n\t\t\tthis.hideDialog();\n\t\t}\n\t}\n\n\tonWindowResize(event) {\n\t\tif (this.active) {\n\t\t\tlet pos = {\n\t\t\t\ttop: window.pageYOffset + document.documentElement.clientHeight / 2 + 'px',\n\t\t\t\tleft: '50%'\n\t\t\t}\n\t\t\tlet size = {\n\t\t\t\twidth: '600px',\n\t\t\t\theight: 'auto',\n\t\t\t\tbodyHeight: this.list.offsetHeight + 'px'\n\t\t\t}\n\t\t\tthis.animateDialog('show', pos, size);\n\t\t\tthis.fixBoxBodyHeight();\n\t\t}\n\t}\n\n\tonRemoveTodo(event) {\n\t\tlet item = event.detail.item;\n\t\tlet index = this.itemsArray.indexOf(item);\n\t\tthis.itemsArray.splice(index, 1);\n\n\t\tif (this.itemsArray.length == this.options.previewMaxCount) {\n\t\t\tthis.boxBody.querySelector('.more').remove();\n\t\t}\n\t}\n\n\tonRemovedTodo(event) {\n\t\tthis.fixBoxBodyHeight();\n\t}\n\n\tonAddBoxFocus(event) {\n\t\tthis.addItem.classList.add('active');\n\t}\n\n\tonAddBoxBlur(event) {\n\t\tthis.addItem.classList.remove('active');\n\t}\n\n\tonAddTodo(event) {\n\t\tlet value = this.addInput.innerHTML;\n\n\t\tif (value) {\n\t\t\tlet item = new TodoItem(value, false, this.options.item);\n\t\t\tthis.add(item);\n\n\t\t\tthis.addInput.innerHTML = '';\n\t\t\tthis.addItem.classList.remove('active');\n\t\t\titem.textBox.focus();\n\n\t\t\titem && this.options.onAddTodo && this.options.onAddTodo.call(this, item);\n\t\t}\n\t}\n\n\tonTitleInput(event) {\n\t\tthis.title = this.titleElement.innerHTML;\n\t}\n\n\tonListClear(event) {\n\t\tthis.setList();\n\n\t\tlet clear = new CustomEvent(\"todo.list.clear\", {\n\t\t\tbubbles: true,\n\t\t\tdetail: { list: this }\n\t\t});\n\t\tthis.list.dispatchEvent(clear);\n\t}\n\n\tonListRemove(event) {\n\t\tlet listRemove = new CustomEvent(\"todo.list.remove\", {\n\t\t\tbubbles: true,\n\t\t\tdetail: { list: this }\n\t\t});\n\t\tthis.list.dispatchEvent(listRemove);\n\n\t\tthis.box.remove();\n\t}\n\n\tplaceCaretAtEnd(element) {\n\t\tlet range, selection;\n\t\trange = document.createRange();\n\t\trange.selectNodeContents(element);\n\t\trange.collapse(false);\n\t\tselection = window.getSelection();\n\t\tselection.removeAllRanges();\n\t\tselection.addRange(range);\n\t}\n\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/js/todoList.js\n// module id = 4\n// module chunks = 0","/*\n*    JavaScript Autocomplete\n*    Author: Vladimir Chernov\n*    For KeepSolid Summer Internship 2017\n*/\n\nexport const TodoItemDefaults = {\n\teditable: true,\n\tremovable: true,\n\tsingleLine: true,\n\tremoveBtnText: '<i class=\"material-icons\">highlight_off</i>'\n};\n\nexport class TodoItem {\n\n\tconstructor(text, complete, options) {\n\n\t\tthis.options = Object.assign({}, TodoItemDefaults, options);\n\n\t\tthis.createElem(); // this.element\n\t\tthis.initHandlers();\n\n\t\tthis.text = text;\n\t\tthis.complete = complete;\n\t}\n\n\tget text() {\n\t\treturn this._text;\n\t}\n\n\tset text(value) {\n\t\tthis._text = value;\n\t\tif (this.textBox != document.activeElement) {\n\t\t\tthis.textBox.innerHTML = value;\n\t\t}\n\n\t\tvar itemEdit = new CustomEvent(\"todo.item.edit\", {\n\t\t\tbubbles: true,\n\t\t\tdetail: { item: this }\n\t\t});\n\t\tthis.element.dispatchEvent(itemEdit);\n\t}\n\n\tget complete() {\n\t\treturn this._complete;\n\t}\n\n\tset complete(value) {\n\t\tthis._complete = value;\n\n\t\tif (value) {\n\t\t\tthis.element.classList.add('complete');\n\t\t\tthis.checkbox.checked = true;\n\t\t} else {\n\t\t\tthis.element.classList.remove('complete');\n\t\t\tthis.checkbox.checked = false;\n\t\t}\n\n\t\tvar itemSetStatus = new CustomEvent(\"todo.item.setStatus\", {\n\t\t\tbubbles: true,\n\t\t\tdetail: { item: this }\n\t\t});\n\t\tthis.element.dispatchEvent(itemSetStatus);\n\t}\n\n\tcreateElem() {\n\t\tthis.element = document.createElement('li');\n\t\tthis.element.classList.add('todo-item');\n\n\t\tlet inner = `\n\t\t\t<label class=\"todo-item--complete todo-item--icon\">\n\t\t\t\t<input type=\"checkbox\" tabindex=\"-1\">\n\t\t\t\t<i class=\"material-icons\"></i>\n\t\t\t</label>\n\t\t\t<div class=\"todo-item--text\" contenteditable=\"${this.options.editable}\"></div>\n\t\t`;\n\t\tthis.element.innerHTML = inner;\n\n\t\tthis.checkboxLabel = this.element.querySelector('.todo-item--complete');\n\t\tthis.checkbox = this.element.querySelector('.todo-item--complete input');\n\t\tthis.textBox = this.element.querySelector('.todo-item--text');\n\n\t\tthis.options.editable && this.element.classList.add('editable');\n\t\tthis.options.singleLine && this.element.classList.add('single-line');\n\n\t\tthis.options.removable && this.createRemoveBtn();\n\t}\n\n\tcreateRemoveBtn() {\n\t\tthis.removeBtn = document.createElement('button');\n\t\tthis.removeBtn.classList.add('todo-item--icon', 'remove');\n\t\tthis.removeBtn.innerHTML = this.options.removeBtnText;\n\t\tthis.element.appendChild(this.removeBtn);\n\t}\n\n\tinitHandlers() {\n\t\tthis.checkbox.addEventListener('click', this.toggleComplete.bind(this));\n\n\t\tif (this.options.editable) {\n\t\t\tthis.textBox.addEventListener('focus', this.onTextBoxFocus.bind(this));\n\t\t\tthis.textBox.addEventListener('input', this.onTextBoxInput.bind(this));\n\t\t\tthis.textBox.addEventListener('blur', this.onTextBoxBlur.bind(this));\n\t\t}\n\n\t\tif (this.options.removable) {\n\t\t\tthis.removeBtn.addEventListener('click', this.onRemove.bind(this));\n\t\t}\n\t}\n\n\ttoggleComplete(event) {\n\t\tthis.complete = !this.complete;\n\t}\n\n\tonRemove(event) {\n\t\tvar itemRemove = new CustomEvent(\"todo.item.remove\", {\n\t\t\tbubbles: true,\n\t\t\tdetail: { item: this }\n\t\t});\n\t\tthis.element.dispatchEvent(itemRemove);\n\n\t\tlet parent = this.element.parentElement\n\t\tthis.element.remove();this.element.parentElement\n\n\t\tvar itemRemoved = new CustomEvent(\"todo.item.removed\", {\n\t\t\tbubbles: true,\n\t\t\tdetail: { item: this }\n\t\t});\n\t\tparent.dispatchEvent(itemRemoved);\n\t}\n\n\tonTextBoxFocus(event) {\n\t\tthis.element.classList.add('active');\n\t\tthis.placeCaretAtEnd(this.textBox);\n\t}\n\n\tonTextBoxBlur(event) {\n\t\tif (this.textBox.innerHTML == '') {\n\t\t\tthis.onRemove();\n\t\t\treturn;\n\t\t}\n\n\t\tthis.element.classList.remove('active');\n\t}\n\n\tonTextBoxInput(event) {\n\t\tthis.text = this.textBox.innerHTML;\n\t}\n\n\tupdateTextValue() {\n\t\tif (this.textBox.innerHTML && !this.isActualText()) {\n\t\t\tthis.text = this.textBox.innerHTML;\n\t\t} else {\n\t\t\tthis.textBox.innerHTML = this.text;\n\t\t}\n\t}\n\n\tisActualText() {\n\t\treturn this.text == this.textBox.innerHTML ? true : false;\n\t}\n\n\tplaceCaretAtEnd(element) {\n\t\tlet range, selection;\n\t\trange = document.createRange();\n\t\trange.selectNodeContents(element);\n\t\trange.collapse(false);\n\t\tselection = window.getSelection();\n\t\tselection.removeAllRanges();\n\t\tselection.addRange(range);\n\t}\n\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/js/todoItem.js\n// module id = 5\n// module chunks = 0"],"sourceRoot":""}